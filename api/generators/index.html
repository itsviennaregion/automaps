
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.13">
    
    
      
        <title>generators - autoMaps</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e411adfe.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#automaps.generators.base" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="autoMaps" class="md-header__button md-logo" aria-label="autoMaps" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            autoMaps
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              generators
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/itsviennaregion/automaps" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="autoMaps" class="md-nav__button md-logo" aria-label="autoMaps" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    autoMaps
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/itsviennaregion/automaps" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/cli/" class="md-nav__link">
        Command Line Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/main_config/" class="md-nav__link">
        Main Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/qgis_project/" class="md-nav__link">
        The QGIS Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/map_type/" class="md-nav__link">
        The MapType Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/ui_elements/" class="md-nav__link">
        User Interface Elements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/map_generator/" class="md-nav__link">
        The MapGenerator Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/streamlit_config/" class="md-nav__link">
        Streamlit Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../_qgis/" class="md-nav__link">
        _qgis
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          generators
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        generators
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#automaps.generators.base" class="md-nav__link">
    base
  </a>
  
    <nav class="md-nav" aria-label="base">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator" class="md-nav__link">
    MapGenerator
  </a>
  
    <nav class="md-nav" aria-label="MapGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator.filename" class="md-nav__link">
    filename
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._export_print_layout" class="md-nav__link">
    _export_print_layout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._get_all_map_layers" class="md-nav__link">
    _get_all_map_layers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._get_map_layer" class="md-nav__link">
    _get_map_layer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._get_print_layout" class="md-nav__link">
    _get_print_layout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._get_project" class="md-nav__link">
    _get_project()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._init_layers" class="md-nav__link">
    _init_layers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._remove_legend_node" class="md-nav__link">
    _remove_legend_node()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._remove_map_layer_filter_expression" class="md-nav__link">
    _remove_map_layer_filter_expression()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._scale_map_to_layer_extent" class="md-nav__link">
    _scale_map_to_layer_extent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_layer_labels_visibility" class="md-nav__link">
    _set_layer_labels_visibility()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_layer_style" class="md-nav__link">
    _set_layer_style()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_map_layer_filter_expression" class="md-nav__link">
    _set_map_layer_filter_expression()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_map_layer_visibility" class="md-nav__link">
    _set_map_layer_visibility()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_project_variable" class="md-nav__link">
    _set_project_variable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_steps" class="md-nav__link">
    _set_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._zoom_map_to_layer_extent" class="md-nav__link">
    _zoom_map_to_layer_extent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator.run_step" class="md-nav__link">
    run_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step" class="md-nav__link">
    Step
  </a>
  
    <nav class="md-nav" aria-label="Step">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step.__getnewargs__" class="md-nav__link">
    __getnewargs__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step._asdict" class="md-nav__link">
    _asdict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step._make" class="md-nav__link">
    _make()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step._replace" class="md-nav__link">
    _replace()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../maptype/" class="md-nav__link">
        maptype
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../selector/" class="md-nav__link">
        selector
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#automaps.generators.base" class="md-nav__link">
    base
  </a>
  
    <nav class="md-nav" aria-label="base">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator" class="md-nav__link">
    MapGenerator
  </a>
  
    <nav class="md-nav" aria-label="MapGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator.filename" class="md-nav__link">
    filename
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._export_print_layout" class="md-nav__link">
    _export_print_layout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._get_all_map_layers" class="md-nav__link">
    _get_all_map_layers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._get_map_layer" class="md-nav__link">
    _get_map_layer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._get_print_layout" class="md-nav__link">
    _get_print_layout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._get_project" class="md-nav__link">
    _get_project()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._init_layers" class="md-nav__link">
    _init_layers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._remove_legend_node" class="md-nav__link">
    _remove_legend_node()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._remove_map_layer_filter_expression" class="md-nav__link">
    _remove_map_layer_filter_expression()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._scale_map_to_layer_extent" class="md-nav__link">
    _scale_map_to_layer_extent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_layer_labels_visibility" class="md-nav__link">
    _set_layer_labels_visibility()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_layer_style" class="md-nav__link">
    _set_layer_style()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_map_layer_filter_expression" class="md-nav__link">
    _set_map_layer_filter_expression()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_map_layer_visibility" class="md-nav__link">
    _set_map_layer_visibility()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_project_variable" class="md-nav__link">
    _set_project_variable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._set_steps" class="md-nav__link">
    _set_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator._zoom_map_to_layer_extent" class="md-nav__link">
    _zoom_map_to_layer_extent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.MapGenerator.run_step" class="md-nav__link">
    run_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step" class="md-nav__link">
    Step
  </a>
  
    <nav class="md-nav" aria-label="Step">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step.__getnewargs__" class="md-nav__link">
    __getnewargs__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step._asdict" class="md-nav__link">
    _asdict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step._make" class="md-nav__link">
    _make()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automaps.generators.base.Step._replace" class="md-nav__link">
    _replace()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/itsviennaregion/automaps/edit/master/docs/api/generators.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



  <h1>generators</h1>

<div class="doc doc-object doc-module">



<h2 id="automaps.generators.base" class="doc doc-heading">
        <code>automaps.generators.base</code>



<a href="#automaps.generators.base" class="headerlink" title="Permanent link">#</a></h2>

    <div class="doc doc-contents first">

      <p>This module contains the base class for custom MapGenerators.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="automaps.generators.base.MapGenerator" class="doc doc-heading">
        <code>
MapGenerator            (<span title="abc.ABC">ABC</span>)
        </code>



<a href="#automaps.generators.base.MapGenerator" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>This is the base class for concrete MapGenerators.</p>
<p>Creating concrete subclasses is part of the configuration of autoMaps projects and
described in the documentation.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the generator. Must be set on declaration of each
concrete subclass.</p></td>
      </tr>
      <tr>
        <td><code>steps</code></td>
        <td><code>OrderedDict[str, Step]</code></td>
        <td><p>The processing steps. Must be set on declaration
of each concrete subclass (using _set_steps()). The dictionary keys are the
names of the steps (which will be shown in the UI). The dictionary values
are <code>Step</code> objects (<code>NamedTuples</code>).</p></td>
      </tr>
      <tr>
        <td><code>data_to_exclude_from_filename</code></td>
        <td><code>List[str]</code></td>
        <td><p>The entries in the data dictionary,
which won't be used to create the export filename. Don't overwrite this!</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MapGenerator</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This is the base class for concrete MapGenerators.</span>

<span class="sd">    Creating concrete subclasses is part of the configuration of autoMaps projects and</span>
<span class="sd">    described in the documentation.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name (str): The name of the generator. Must be set on declaration of each</span>
<span class="sd">            concrete subclass.</span>
<span class="sd">        steps (OrderedDict[str, Step]): The processing steps. Must be set on declaration</span>
<span class="sd">            of each concrete subclass (using _set_steps()). The dictionary keys are the</span>
<span class="sd">            names of the steps (which will be shown in the UI). The dictionary values</span>
<span class="sd">            are `Step` objects (`NamedTuples`).</span>
<span class="sd">        data_to_exclude_from_filename (List[str]): The entries in the data dictionary,</span>
<span class="sd">            which won&#39;t be used to create the export filename. Don&#39;t overwrite this!</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">steps</span><span class="p">:</span> <span class="n">OrderedDict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Step</span><span class="p">]</span>
    <span class="n">data_to_exclude_from_filename</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;selectors_to_exclude_from_filename&quot;</span><span class="p">,</span>
        <span class="s2">&quot;maptype_dict_key&quot;</span><span class="p">,</span>
        <span class="s2">&quot;step&quot;</span><span class="p">,</span>
        <span class="s2">&quot;job_uuid&quot;</span><span class="p">,</span>
        <span class="s2">&quot;print_layout&quot;</span><span class="p">,</span>
        <span class="s2">&quot;!FILEFORMAT!&quot;</span><span class="p">,</span>
        <span class="s2">&quot;event&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
        <span class="n">basepath_fileserver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">print_layout</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">step_data</span><span class="p">:</span> <span class="n">StepData</span><span class="p">,</span>
        <span class="n">job_uuid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">default_file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize MapGenerator.</span>

<span class="sd">        Args:</span>
<span class="sd">            data (dict): The data dictionary, containing all the necessary information</span>
<span class="sd">                to create a map of a specific type. Normally, the data dictionary is</span>
<span class="sd">                generated by the frontend, depending on the user input.</span>
<span class="sd">            basepath_fileserver (str): The path where the map exports shall be stored.</span>
<span class="sd">            print_layout (str): The name of the QGIS print layout for a specific map</span>
<span class="sd">                type.</span>
<span class="sd">            step_data (StepData): Data to pass between the individual processing steps.</span>
<span class="sd">            job_uuid (str): The uuid of a specific map creation job.</span>
<span class="sd">            default_file_format (str, optional): The export file format, if the data</span>
<span class="sd">                dictionary does not contain the key &#39;!FILEFORMAT!&#39;. Defaults to &quot;pdf&quot;.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If desired `default_file_format` is not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">basepath_fileserver</span> <span class="o">=</span> <span class="n">basepath_fileserver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">print_layout</span> <span class="o">=</span> <span class="n">print_layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span> <span class="o">=</span> <span class="n">step_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">job_uuid</span> <span class="o">=</span> <span class="n">job_uuid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_format</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;!FILEFORMAT!&quot;</span><span class="p">,</span> <span class="n">default_file_format</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_format</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;png&quot;</span><span class="p">,</span> <span class="s2">&quot;svg&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported export file format: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">message_to_client</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span>  <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_project</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_print_layout</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_set_steps</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_weight</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">s</span><span class="o">.</span><span class="n">weight</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">filename</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The full filename for the export, including path.</span>

<span class="sd">        The filename is constructed depending on the basepath of the fileserver,</span>
<span class="sd">        the job uuid, the name of the generator, and the desired file format. Values</span>
<span class="sd">        are excluded depending on the project configuration and</span>
<span class="sd">        `self.data_to_exclude_from_filename`. Some characters are replaced to ensure</span>
<span class="sd">        proper file paths as output.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">data_keys_to_pop</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;selectors_to_exclude_from_filename&quot;</span><span class="p">,</span> <span class="p">[])</span>
            <span class="o">+</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot; OPTIONS&quot;</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_to_exclude_from_filename</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data_keys_to_pop</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">basepath_fileserver</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">job_uuid</span><span class="si">}</span><span class="s2">_&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">_&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
            <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_set_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Defines the processing steps.</span>

<span class="sd">        This is done by assigning an `OrderedDict[str, StepData]` to `self.steps`</span>

<span class="sd">        The dictionary keys are the names of the steps (which will be shown in the UI).</span>
<span class="sd">        The dictionary values are `Step` objects (`NamedTuples`).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepData</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Runs a single processin step.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the step to run, as defined in `self.steps`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            StepData: The data which shall be passed to the next processing step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">func</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">message_to_client</span><span class="p">[</span><span class="s2">&quot;rel_weight&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">weight</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_weight</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span>

    <span class="k">def</span> <span class="nf">_get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QgsProject</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the QGIS project associated with a specific generator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            QgsProject: The associated QGIS project.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">get_project</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_init_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initializes all layers.</span>

<span class="sd">        This includes removing all filter expressions (if applicable) and setting all</span>
<span class="sd">        layers to invisible.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">lyr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_all_map_layers</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">lyr</span><span class="o">.</span><span class="n">setSubsetString</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">layerTreeRoot</span><span class="p">()</span><span class="o">.</span><span class="n">children</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">QgsLayerTreeLayer</span><span class="p">):</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setItemVisibilityCheckedRecursive</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_project_variable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">var_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets a user defined variable in the associated QGIS project.</span>

<span class="sd">        Args:</span>
<span class="sd">            var_name (str): The name of the variable.</span>
<span class="sd">            var_value (Any): The value of the variable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">set_project_variable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="p">,</span> <span class="n">var_name</span><span class="p">,</span> <span class="n">var_value</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">_get_print_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QgsPrintLayout</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the configured or user selected QGIS print layout.</span>

<span class="sd">        Returns:</span>
<span class="sd">            QgsPrintLayout: The desired print layout.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">get_layout_by_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">print_layout</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">_get_map_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QgsMapLayer</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the QGIS map layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_name (str): The name of the map layer.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If layer cannot be found.</span>
<span class="sd">            ValueError: If layer name is ambiguous.</span>

<span class="sd">        Returns:</span>
<span class="sd">            QgsMapLayer: The desired QGIS map layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">layers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">mapLayersByName</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find layer </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Found multiple (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">)</span><span class="si">}</span><span class="s2">) layers with name </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">layers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_get_all_map_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">QgsMapLayer</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns all QGIS map layers of the associated QGIS project.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[QgsMapLayer]: The map layers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">layers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">mapLayers</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>  <span class="c1"># type: ignore</span>
        <span class="k">return</span> <span class="n">layers</span>

    <span class="k">def</span> <span class="nf">_set_map_layer_filter_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">filter_expr</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the filter expression for a QGIS map layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_name (str): The name of the map layer.</span>
<span class="sd">            filter_expr (str): The filter expression.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lyr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
        <span class="n">filter_expr</span> <span class="o">=</span> <span class="n">filter_expr</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="s2">&quot;(&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">)</span>
        <span class="n">lyr</span><span class="o">.</span><span class="n">setSubsetString</span><span class="p">(</span><span class="n">filter_expr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_remove_map_layer_filter_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Removes the filter expression for a QGIS map layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_name (str): The name of the map layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lyr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
        <span class="n">lyr</span><span class="o">.</span><span class="n">setSubsetString</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_map_layer_visibility</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">layer_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">is_visible</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the visibility of one ore more QIGS map layers.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_names (Union[str, List[str]]): If `str`: The name of the layer. If</span>
<span class="sd">                `List[str]`: The names of the layers.</span>
<span class="sd">            is_visible (bool): `True`, if layer(s) shall be visible, `False` otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">layer_names</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">layer_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">layer_names</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">layer_name</span> <span class="ow">in</span> <span class="n">layer_names</span><span class="p">:</span>
            <span class="n">layer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
            <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">layerTreeRoot</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">findLayer</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">id</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setItemVisibilityChecked</span><span class="p">(</span><span class="n">is_visible</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_layer_labels_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">is_visible</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the visibility of the labels of a QGIS map layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_name (str): The name of the layer.</span>
<span class="sd">            is_visible (bool): `True`, if the labels shall be visible, `False`</span>
<span class="sd">                otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lyr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
        <span class="n">lyr</span><span class="o">.</span><span class="n">setLabelsEnabled</span><span class="p">(</span><span class="n">is_visible</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_layer_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">style_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Switches the style of a QGIS map layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_name (str): The name of the layer.</span>
<span class="sd">            style_name (str): The name of the style.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lyr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
        <span class="n">lyr</span><span class="o">.</span><span class="n">styleManager</span><span class="p">()</span><span class="o">.</span><span class="n">setCurrentStyle</span><span class="p">(</span><span class="n">style_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_zoom_map_to_layer_extent</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">map_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">layer</span><span class="p">:</span> <span class="n">QgsMapLayer</span><span class="p">,</span>
        <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">relative_buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Centers a map to the given layer and zooms to its extent. The extent can be</span>
<span class="sd">        increased by adding a buffer.</span>

<span class="sd">        Args:</span>
<span class="sd">            map_name (str): Name of the map to modify as defined in the associated</span>
<span class="sd">                print layout.</span>
<span class="sd">            layer (QgsMapLayer): Layer to get extent from</span>
<span class="sd">            buffer (float, optional): Absolute value (in map units) of the buffer.</span>
<span class="sd">                Defaults to None.</span>
<span class="sd">            relative_buffer (float, optional): Relative value of the buffer. To increase</span>
<span class="sd">                the map extent by 10 %, use the value 0.1. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">extent</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">extent</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">buffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">extent</span> <span class="o">=</span> <span class="n">extent</span><span class="o">.</span><span class="n">buffered</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">itemById</span><span class="p">(</span><span class="n">map_name</span><span class="p">)</span><span class="o">.</span><span class="n">zoomToExtent</span><span class="p">(</span><span class="n">extent</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">if</span> <span class="n">relative_buffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">scale_padded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">itemById</span><span class="p">(</span><span class="n">map_name</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span>
                <span class="mi">1</span> <span class="o">+</span> <span class="n">relative_buffer</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">itemById</span><span class="p">(</span><span class="n">map_name</span><span class="p">)</span><span class="o">.</span><span class="n">setScale</span><span class="p">(</span><span class="n">scale_padded</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_scale_map_to_layer_extent</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">map_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">layer</span><span class="p">:</span> <span class="n">QgsMapLayer</span><span class="p">,</span>
        <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1000.0</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Centers a map to the given layer and zooms to a fixed scale.</span>

<span class="sd">        Args:</span>
<span class="sd">            map_name (str): The name of the map as defined in the print layout.</span>
<span class="sd">            layer (QgsMapLayer): The name of the layer.</span>
<span class="sd">            scale (float, optional): The scale to zoom to. Defaults to 1000.0.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># buffer needed if only 1 point in layer</span>
        <span class="n">buffered_layer_extent</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">extent</span><span class="p">()</span><span class="o">.</span><span class="n">buffered</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">itemById</span><span class="p">(</span><span class="n">map_name</span><span class="p">)</span><span class="o">.</span><span class="n">zoomToExtent</span><span class="p">(</span><span class="n">buffered_layer_extent</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">itemById</span><span class="p">(</span><span class="n">map_name</span><span class="p">)</span><span class="o">.</span><span class="n">setScale</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">_export_print_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Exports the print layout.&quot;&quot;&quot;</span>
        <span class="n">export_layout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_remove_legend_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Removes the legend entry of a (visible) layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_name (str): The name of the layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">legend</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
            <span class="n">item</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">QgsLayoutItemLegend</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">legend</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
        <span class="n">layer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
        <span class="n">layerNode</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rootGroup</span><span class="p">()</span><span class="o">.</span><span class="n">findLayer</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span>
        <span class="n">QgsMapLayerLegendUtils</span><span class="o">.</span><span class="n">setLegendNodeOrder</span><span class="p">(</span><span class="n">layerNode</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">model</span><span class="o">.</span><span class="n">refreshLayerLegend</span><span class="p">(</span><span class="n">layerNode</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h4 id="automaps.generators.base.MapGenerator.filename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator.filename" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>The full filename for the export, including path.</p>
<p>The filename is constructed depending on the basepath of the fileserver,
the job uuid, the name of the generator, and the desired file format. Values
are excluded depending on the project configuration and
<code>self.data_to_exclude_from_filename</code>. Some characters are replaced to ensure
proper file paths as output.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p><em>description</em></p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">basepath_fileserver</span><span class="p">,</span> <span class="n">print_layout</span><span class="p">,</span> <span class="n">step_data</span><span class="p">,</span> <span class="n">job_uuid</span><span class="p">,</span> <span class="n">default_file_format</span><span class="o">=</span><span class="s1">&#39;pdf&#39;</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator.__init__" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Initialize MapGenerator.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data</code></td>
        <td><code>dict</code></td>
        <td><p>The data dictionary, containing all the necessary information
to create a map of a specific type. Normally, the data dictionary is
generated by the frontend, depending on the user input.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>basepath_fileserver</code></td>
        <td><code>str</code></td>
        <td><p>The path where the map exports shall be stored.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>print_layout</code></td>
        <td><code>str</code></td>
        <td><p>The name of the QGIS print layout for a specific map
type.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step_data</code></td>
        <td><code>StepData</code></td>
        <td><p>Data to pass between the individual processing steps.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>job_uuid</code></td>
        <td><code>str</code></td>
        <td><p>The uuid of a specific map creation job.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>default_file_format</code></td>
        <td><code>str</code></td>
        <td><p>The export file format, if the data
dictionary does not contain the key '!FILEFORMAT!'. Defaults to "pdf".</p></td>
        <td><code>&#39;pdf&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If desired <code>default_file_format</code> is not supported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="n">basepath_fileserver</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">print_layout</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">step_data</span><span class="p">:</span> <span class="n">StepData</span><span class="p">,</span>
    <span class="n">job_uuid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">default_file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initialize MapGenerator.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (dict): The data dictionary, containing all the necessary information</span>
<span class="sd">            to create a map of a specific type. Normally, the data dictionary is</span>
<span class="sd">            generated by the frontend, depending on the user input.</span>
<span class="sd">        basepath_fileserver (str): The path where the map exports shall be stored.</span>
<span class="sd">        print_layout (str): The name of the QGIS print layout for a specific map</span>
<span class="sd">            type.</span>
<span class="sd">        step_data (StepData): Data to pass between the individual processing steps.</span>
<span class="sd">        job_uuid (str): The uuid of a specific map creation job.</span>
<span class="sd">        default_file_format (str, optional): The export file format, if the data</span>
<span class="sd">            dictionary does not contain the key &#39;!FILEFORMAT!&#39;. Defaults to &quot;pdf&quot;.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If desired `default_file_format` is not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">basepath_fileserver</span> <span class="o">=</span> <span class="n">basepath_fileserver</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">print_layout</span> <span class="o">=</span> <span class="n">print_layout</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span> <span class="o">=</span> <span class="n">step_data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">job_uuid</span> <span class="o">=</span> <span class="n">job_uuid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_format</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;!FILEFORMAT!&quot;</span><span class="p">,</span> <span class="n">default_file_format</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_format</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;png&quot;</span><span class="p">,</span> <span class="s2">&quot;svg&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported export file format: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">message_to_client</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span>  <span class="c1"># type: ignore</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_project</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_print_layout</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_set_steps</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">total_weight</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">s</span><span class="o">.</span><span class="n">weight</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._export_print_layout" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_export_print_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._export_print_layout" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Exports the print layout.</p>

        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_export_print_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Exports the print layout.&quot;&quot;&quot;</span>
    <span class="n">export_layout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._get_all_map_layers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_get_all_map_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._get_all_map_layers" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Returns all QGIS map layers of the associated QGIS project.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[QgsMapLayer]</code></td>
      <td><p>The map layers.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_get_all_map_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">QgsMapLayer</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns all QGIS map layers of the associated QGIS project.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[QgsMapLayer]: The map layers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">layers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">mapLayers</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>  <span class="c1"># type: ignore</span>
    <span class="k">return</span> <span class="n">layers</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._get_map_layer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_get_map_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._get_map_layer" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Returns the QGIS map layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the map layer.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If layer cannot be found.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If layer name is ambiguous.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>QgsMapLayer</code></td>
      <td><p>The desired QGIS map layer.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_get_map_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QgsMapLayer</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the QGIS map layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_name (str): The name of the map layer.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If layer cannot be found.</span>
<span class="sd">        ValueError: If layer name is ambiguous.</span>

<span class="sd">    Returns:</span>
<span class="sd">        QgsMapLayer: The desired QGIS map layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">layers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">mapLayersByName</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find layer </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Found multiple (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">)</span><span class="si">}</span><span class="s2">) layers with name </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">layers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._get_print_layout" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_get_print_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._get_print_layout" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Returns the configured or user selected QGIS print layout.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>QgsPrintLayout</code></td>
      <td><p>The desired print layout.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_get_print_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QgsPrintLayout</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the configured or user selected QGIS print layout.</span>

<span class="sd">    Returns:</span>
<span class="sd">        QgsPrintLayout: The desired print layout.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_layout_by_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">print_layout</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._get_project" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._get_project" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Gets the QGIS project associated with a specific generator.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>QgsProject</code></td>
      <td><p>The associated QGIS project.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QgsProject</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets the QGIS project associated with a specific generator.</span>

<span class="sd">    Returns:</span>
<span class="sd">        QgsProject: The associated QGIS project.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_project</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._init_layers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_init_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._init_layers" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Initializes all layers.</p>
<p>This includes removing all filter expressions (if applicable) and setting all
layers to invisible.</p>

        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_init_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initializes all layers.</span>

<span class="sd">    This includes removing all filter expressions (if applicable) and setting all</span>
<span class="sd">    layers to invisible.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">lyr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_all_map_layers</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">lyr</span><span class="o">.</span><span class="n">setSubsetString</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">layerTreeRoot</span><span class="p">()</span><span class="o">.</span><span class="n">children</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">QgsLayerTreeLayer</span><span class="p">):</span>
            <span class="n">node</span><span class="o">.</span><span class="n">setItemVisibilityCheckedRecursive</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._remove_legend_node" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_remove_legend_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._remove_legend_node" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Removes the legend entry of a (visible) layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_remove_legend_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Removes the legend entry of a (visible) layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_name (str): The name of the layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">legend</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
        <span class="n">item</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">QgsLayoutItemLegend</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">legend</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
    <span class="n">layer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
    <span class="n">layerNode</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rootGroup</span><span class="p">()</span><span class="o">.</span><span class="n">findLayer</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span>
    <span class="n">QgsMapLayerLegendUtils</span><span class="o">.</span><span class="n">setLegendNodeOrder</span><span class="p">(</span><span class="n">layerNode</span><span class="p">,</span> <span class="p">[])</span>
    <span class="n">model</span><span class="o">.</span><span class="n">refreshLayerLegend</span><span class="p">(</span><span class="n">layerNode</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._remove_map_layer_filter_expression" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_remove_map_layer_filter_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._remove_map_layer_filter_expression" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Removes the filter expression for a QGIS map layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the map layer.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_remove_map_layer_filter_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Removes the filter expression for a QGIS map layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_name (str): The name of the map layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lyr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
    <span class="n">lyr</span><span class="o">.</span><span class="n">setSubsetString</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._scale_map_to_layer_extent" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_scale_map_to_layer_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">map_name</span><span class="p">,</span> <span class="n">layer</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1000.0</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._scale_map_to_layer_extent" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Centers a map to the given layer and zooms to a fixed scale.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>map_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the map as defined in the print layout.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>layer</code></td>
        <td><code>QgsMapLayer</code></td>
        <td><p>The name of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>scale</code></td>
        <td><code>float</code></td>
        <td><p>The scale to zoom to. Defaults to 1000.0.</p></td>
        <td><code>1000.0</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_scale_map_to_layer_extent</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">map_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">layer</span><span class="p">:</span> <span class="n">QgsMapLayer</span><span class="p">,</span>
    <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1000.0</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Centers a map to the given layer and zooms to a fixed scale.</span>

<span class="sd">    Args:</span>
<span class="sd">        map_name (str): The name of the map as defined in the print layout.</span>
<span class="sd">        layer (QgsMapLayer): The name of the layer.</span>
<span class="sd">        scale (float, optional): The scale to zoom to. Defaults to 1000.0.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># buffer needed if only 1 point in layer</span>
    <span class="n">buffered_layer_extent</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">extent</span><span class="p">()</span><span class="o">.</span><span class="n">buffered</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">itemById</span><span class="p">(</span><span class="n">map_name</span><span class="p">)</span><span class="o">.</span><span class="n">zoomToExtent</span><span class="p">(</span><span class="n">buffered_layer_extent</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">itemById</span><span class="p">(</span><span class="n">map_name</span><span class="p">)</span><span class="o">.</span><span class="n">setScale</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._set_layer_labels_visibility" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_set_layer_labels_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">,</span> <span class="n">is_visible</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._set_layer_labels_visibility" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Sets the visibility of the labels of a QGIS map layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>is_visible</code></td>
        <td><code>bool</code></td>
        <td><p><code>True</code>, if the labels shall be visible, <code>False</code>
otherwise.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_set_layer_labels_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">is_visible</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the visibility of the labels of a QGIS map layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_name (str): The name of the layer.</span>
<span class="sd">        is_visible (bool): `True`, if the labels shall be visible, `False`</span>
<span class="sd">            otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lyr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
    <span class="n">lyr</span><span class="o">.</span><span class="n">setLabelsEnabled</span><span class="p">(</span><span class="n">is_visible</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._set_layer_style" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_set_layer_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">,</span> <span class="n">style_name</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._set_layer_style" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Switches the style of a QGIS map layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>style_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the style.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_set_layer_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">style_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Switches the style of a QGIS map layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_name (str): The name of the layer.</span>
<span class="sd">        style_name (str): The name of the style.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lyr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
    <span class="n">lyr</span><span class="o">.</span><span class="n">styleManager</span><span class="p">()</span><span class="o">.</span><span class="n">setCurrentStyle</span><span class="p">(</span><span class="n">style_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._set_map_layer_filter_expression" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_set_map_layer_filter_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">,</span> <span class="n">filter_expr</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._set_map_layer_filter_expression" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Sets the filter expression for a QGIS map layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the map layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filter_expr</code></td>
        <td><code>str</code></td>
        <td><p>The filter expression.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_set_map_layer_filter_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">filter_expr</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the filter expression for a QGIS map layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_name (str): The name of the map layer.</span>
<span class="sd">        filter_expr (str): The filter expression.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lyr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
    <span class="n">filter_expr</span> <span class="o">=</span> <span class="n">filter_expr</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="s2">&quot;(&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">)</span>
    <span class="n">lyr</span><span class="o">.</span><span class="n">setSubsetString</span><span class="p">(</span><span class="n">filter_expr</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._set_map_layer_visibility" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_set_map_layer_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_names</span><span class="p">,</span> <span class="n">is_visible</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._set_map_layer_visibility" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Sets the visibility of one ore more QIGS map layers.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_names</code></td>
        <td><code>Union[str, List[str]]</code></td>
        <td><p>If <code>str</code>: The name of the layer. If
<code>List[str]</code>: The names of the layers.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>is_visible</code></td>
        <td><code>bool</code></td>
        <td><p><code>True</code>, if layer(s) shall be visible, <code>False</code> otherwise.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_set_map_layer_visibility</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">layer_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">is_visible</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the visibility of one ore more QIGS map layers.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_names (Union[str, List[str]]): If `str`: The name of the layer. If</span>
<span class="sd">            `List[str]`: The names of the layers.</span>
<span class="sd">        is_visible (bool): `True`, if layer(s) shall be visible, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">layer_names</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">layer_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">layer_names</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">layer_name</span> <span class="ow">in</span> <span class="n">layer_names</span><span class="p">:</span>
        <span class="n">layer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_map_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">layerTreeRoot</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">findLayer</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">id</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">setItemVisibilityChecked</span><span class="p">(</span><span class="n">is_visible</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._set_project_variable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_set_project_variable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var_name</span><span class="p">,</span> <span class="n">var_value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._set_project_variable" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Sets a user defined variable in the associated QGIS project.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>var_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the variable.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>var_value</code></td>
        <td><code>Any</code></td>
        <td><p>The value of the variable.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_set_project_variable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">var_value</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets a user defined variable in the associated QGIS project.</span>

<span class="sd">    Args:</span>
<span class="sd">        var_name (str): The name of the variable.</span>
<span class="sd">        var_value (Any): The value of the variable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">set_project_variable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">project</span><span class="p">,</span> <span class="n">var_name</span><span class="p">,</span> <span class="n">var_value</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._set_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_set_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._set_steps" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Defines the processing steps.</p>
<p>This is done by assigning an <code>OrderedDict[str, StepData]</code> to <code>self.steps</code></p>
<p>The dictionary keys are the names of the steps (which will be shown in the UI).
The dictionary values are <code>Step</code> objects (<code>NamedTuples</code>).</p>

        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">_set_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Defines the processing steps.</span>

<span class="sd">    This is done by assigning an `OrderedDict[str, StepData]` to `self.steps`</span>

<span class="sd">    The dictionary keys are the names of the steps (which will be shown in the UI).</span>
<span class="sd">    The dictionary values are `Step` objects (`NamedTuples`).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator._zoom_map_to_layer_extent" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_zoom_map_to_layer_extent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">map_name</span><span class="p">,</span> <span class="n">layer</span><span class="p">,</span> <span class="n">buffer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">relative_buffer</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.MapGenerator._zoom_map_to_layer_extent" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Centers a map to the given layer and zooms to its extent. The extent can be
increased by adding a buffer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>map_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the map to modify as defined in the associated
print layout.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>layer</code></td>
        <td><code>QgsMapLayer</code></td>
        <td><p>Layer to get extent from</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>buffer</code></td>
        <td><code>float</code></td>
        <td><p>Absolute value (in map units) of the buffer.
Defaults to None.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>relative_buffer</code></td>
        <td><code>float</code></td>
        <td><p>Relative value of the buffer. To increase
the map extent by 10 %, use the value 0.1. Defaults to None.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_zoom_map_to_layer_extent</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">map_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">layer</span><span class="p">:</span> <span class="n">QgsMapLayer</span><span class="p">,</span>
    <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">relative_buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Centers a map to the given layer and zooms to its extent. The extent can be</span>
<span class="sd">    increased by adding a buffer.</span>

<span class="sd">    Args:</span>
<span class="sd">        map_name (str): Name of the map to modify as defined in the associated</span>
<span class="sd">            print layout.</span>
<span class="sd">        layer (QgsMapLayer): Layer to get extent from</span>
<span class="sd">        buffer (float, optional): Absolute value (in map units) of the buffer.</span>
<span class="sd">            Defaults to None.</span>
<span class="sd">        relative_buffer (float, optional): Relative value of the buffer. To increase</span>
<span class="sd">            the map extent by 10 %, use the value 0.1. Defaults to None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">extent</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">extent</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">buffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">extent</span> <span class="o">=</span> <span class="n">extent</span><span class="o">.</span><span class="n">buffered</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">itemById</span><span class="p">(</span><span class="n">map_name</span><span class="p">)</span><span class="o">.</span><span class="n">zoomToExtent</span><span class="p">(</span><span class="n">extent</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">if</span> <span class="n">relative_buffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">scale_padded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">itemById</span><span class="p">(</span><span class="n">map_name</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span>
            <span class="mi">1</span> <span class="o">+</span> <span class="n">relative_buffer</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">itemById</span><span class="p">(</span><span class="n">map_name</span><span class="p">)</span><span class="o">.</span><span class="n">setScale</span><span class="p">(</span><span class="n">scale_padded</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.MapGenerator.run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


<a href="#automaps.generators.base.MapGenerator.run_step" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Runs a single processin step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the step to run, as defined in <code>self.steps</code>.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepData</code></td>
      <td><p>The data which shall be passed to the next processing step.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepData</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Runs a single processin step.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The name of the step to run, as defined in `self.steps`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        StepData: The data which shall be passed to the next processing step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">func</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span><span class="o">.</span><span class="n">message_to_client</span><span class="p">[</span><span class="s2">&quot;rel_weight&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">weight</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_weight</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_data</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="automaps.generators.base.Step" class="doc doc-heading">
        <code>
Step            (<span title="tuple">tuple</span>)
        </code>



<a href="#automaps.generators.base.Step" class="headerlink" title="Permanent link">#</a></h3>

    <div class="doc doc-contents ">

      <p>Step(func, weight)</p>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.Step.__getnewargs__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__getnewargs__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#automaps.generators.base.Step.__getnewargs__" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Return self as a plain tuple.  Used by copy and pickle.</p>

        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">__getnewargs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return self as a plain tuple.  Used by copy and pickle.&#39;</span>
    <span class="k">return</span> <span class="n">_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.Step.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">weight</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#automaps.generators.base.Step.__new__" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Create new instance of Step(func, weight)</p>

    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.Step.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#automaps.generators.base.Step.__repr__" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Return a nicely formatted representation string</p>

        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return a nicely formatted representation string&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="n">repr_fmt</span> <span class="o">%</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.Step._asdict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_asdict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.Step._asdict" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Return a new dict which maps field names to their values.</p>

        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_asdict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return a new dict which maps field names to their values.&#39;</span>
    <span class="k">return</span> <span class="n">_dict</span><span class="p">(</span><span class="n">_zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fields</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.Step._make" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_make</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.Step._make" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Make a new Step object from a sequence or iterable</p>

        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">_make</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">iterable</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">tuple_new</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">iterable</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">_len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">!=</span> <span class="n">num_fields</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Expected </span><span class="si">{</span><span class="n">num_fields</span><span class="si">}</span><span class="s1"> arguments, got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="automaps.generators.base.Step._replace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">_replace</span><span class="p">(</span><span class="o">/</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-private"><code>private</code></small>
  </span>

<a href="#automaps.generators.base.Step._replace" class="headerlink" title="Permanent link">#</a></h4>

    <div class="doc doc-contents ">

      <p>Return a new Step object replacing specified fields with new values</p>

        <details class="quote">
          <summary>Source code in <code>automaps/generators/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_replace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make</span><span class="p">(</span><span class="n">_map</span><span class="p">(</span><span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="n">field_names</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">kwds</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Got unexpected field names: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">kwds</span><span class="p">)</span><span class="si">!r}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>








  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../_qgis/" class="md-footer__link md-footer__link--prev" aria-label="Previous: _qgis" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              _qgis
            </div>
          </div>
        </a>
      
      
        
        <a href="../maptype/" class="md-footer__link md-footer__link--next" aria-label="Next: maptype" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              maptype
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate"], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ed9748b7.min.js"></script>
      
    
  </body>
</html>